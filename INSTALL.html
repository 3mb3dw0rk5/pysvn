<html>
<head>
<style type="text/css">
h1, h2, h3 {color: #8080ff;}
code {background-color: #dddddd; }

</style>
<title>Building pysvn Extension</title>
</head>
<body>

<h1>Building pysvn Extension</h1>

<h2>Prerequisites</h2>

<p>To build pysvn you will require:</p>
<ul>
<li><a href="http://sourceforge.net/project/showfiles.php?group_id=3180">PyCXX V5.3.3</a>
<li><a href="http://subversion.tigris.org">subversion</a> 1.x.x</a>
</ul>

<h3>Building on win32</h3>
<p>These instructions assume you have Microsoft Visual C++ 6.0 to compile the code
and <a href="http://www.jrsoftware.org/">INNO</a> 4.0.10 to create the installation kit.</p>
<p>Note: you must build with MSVC6 as python 2.3 was built with that version.</p>
<p>MSVC 2003.NET is not expected to work until there is a version of python
built with VC++ 2003.NET released (issues of C runtime compatibility).</p>

<ol>
<li>build subversion (tested with 1.0.0 to 1.0.6 and 1.1.0 to 1.1.3)
<li>fetch and expand the pysvn source code into <em>extdir</em>
<li>Expand pycxx_5_3_3.tar.gz into <em>extdir</em>\Import
<li>edit Builder\builder_custom_init.cmd to match the locations of the sources.
<li><code>cd Builder</code>
<li><code>builder_custom_init.cmd</code>
<li><code>nmake -f win32.mak build</code>
</ol>

<p>To install the built kit</p>

<ol>
<li>Uninstall any previous kit (control panel's Add/Remove programs)
<li><code>nmake -f win32.mak install</code>
</ol>

<h3>Building on unix systems.</h3>

<ol>
<li>build subversion (tested with 1.0.0 to 1.0.6 and 1.1.0 to 1.1.3)
<li>get the pysvn source code
<li><code>tar xzf pycxx_5_3_3.tar.gz</code> into <em>extdir</em>/Import
<li>cd Source
<li>Create the Makefile using <code>python setup.py configure</code>
<li><code>make</code>
<li>cd Tests
<li>Test pysvn by running <code>make -f unix.mak PYTHON=<em>path-to-python-to-use</em></code>
</ol>

<p>Install pysvn by copying the following from Extension/Source
to python site-specific directory.</p>
<ul>
<li><code>mkdir <em>python-libdir</em>/site-packages/pysvn</code>
<li><code>cp pysvn/__init__.py <em>python-libdir</em>/site-packages/pysvn</code>
<li><code>cp pysvn/_pysvn.so <em>python-libdir</em>/site-packages/pysvn</code>
</ul>
</body>
</html>
